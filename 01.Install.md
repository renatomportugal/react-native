# Instalação do React Native
Rodar tudo como administrador, inclusive as janelas de CMD.<br>
## NodeJS e NPM
https://nodejs.org/en/download/<br>
Escolha a versão LTS<br>
```
Em 01/07/20 (node-v12.18.2-x64)

[Instalação]
1. Baixe o arquivo
2. Rode como Administrador
	Next, Selecione "I accept ther terms in the License Agreement", Next, "C:\Program Files\nodejs\", Next.
	Verifique se o item "Add to Path" entá selecionado.

	Selecione "Automatically install the necessary tools. Note that will also install Chocolatey. The Script will pop-up in a new windows after the installation completes."

	Next, Install, Finish

3. Chocolatey e Python
  Após a instalação abrirá uma tela de instalação das Tools for Node.js Native Modules.
	Provavelmente não funcionará. Deverá abrir automaticamente o Power Shell.

4. Reinicie
	Vá em Menu, Node.js, Rode como Administrador "Install Adicional Tools for Node.js".

[Verificação]
No Command Prompt digite "node -v"
Retorno: v12.15.0

[Verificação]
No Command Prompt digite "npm -v"
Retorno: 6.9.0

[Variáveis de Ambiente - Painel de Controle, Sistema, Configurações avançadas do sistema, aba Avançado, Botão variáveis do ambiente](usuário e sistema)
PATH
C:\Program Files\nodejs\
%USERPROFILE%\AppData\Roaming\npm
Reiniciar o PC

[Configurar o Proxy - abra o CMD como adm]
npm config set strict-ssl false
npm config set NODE_TLS_REJECT_UNAUTHORIZED=0
npm config set https-proxy "http://USUARIO:SENHA@PROXY.DOMINIO.COM.BR:PORTA"
npm config set http-proxy "http://USUARIO:SENHA@PROXY.DOMINIO.COM.BR:PORTA"
npm config set registry "http://registry.npmjs.org/"

Se o USUARIO ou SENHA tiverem caracteres especiais ou espaços utilize as aspas (sem sempre funciona, melhor retirar os caracteres especiais).

[verificar se gravou]
%USERPROFILE%\.npmrc

[Deverá aparecer o texto abaixo dentro do arquivo]
strict-ssl=false
NODE_TLS_REJECT_UNAUTHORIZED=0
https-proxy=http://USUARIO:SENHA@PROXY.DOMINIO.COM.BR:PORTA
http-proxy=http://USUARIO:SENHA@PROXY.DOMINIO.COM.BR:PORTA
registry=http://registry.npmjs.org/

[Testei sem reiniciar, e foi]

[Atualização]
npm install npm@latest -g --unsafe-perm

Este foi sem problemas
npm install -g npm --unsafe-perm

Este último deu warn
npm install npm@latest --unsafe-perm


_________________________________________________________________________________
___01.A. Chocolatey _____________________________________________________________

[Instalação] - Instalar com Proxy
Abrir o CMD como Administrador, digite:
@powershell -NoProfile -ExecutionPolicy Bypass -Command "[System.Net.WebRequest]::DefaultWebProxy.Credentials = [System.Net.CredentialCache]::DefaultCredentials; iex ((New-Object System.Net.WebClient).DownloadString('https://chocolatey.org/install.ps1'))" && SET PATH=%PATH%;%ALLUSERSPROFILE%\chocolatey\bin

__CASO NÃO FUNCIONE
[Instalar local]
Baixe o arquivo "https://chocolatey.org/install.ps1" na pasta "C:\choco"

[proxy]
Abra o Windows Power Shell como administrador e digite:
$env:chocolateyProxyLocation = 'https://PROXY:PORTA'
$env:chocolateyProxyUser = 'USUARIO'
$env:chocolateyProxyPassword = 'SENHA'

[Rode o arquivo] Estando na raiz do C, pelo Power Shell, digite:
cd .\choco
./install.ps1

Reinicie o PC

[Verificação]
Como Ardministrador, no Command Prompt digite "choco"
Retorno:
Chocolatey v0.10.15
Please run 'choco -?' or 'choco <command> -?' for help menu.

[Testar]
choco upgrade chocolatey

___02. JAVA _____________________________________________________________________
https://www.oracle.com/technetwork/pt/java/javase/downloads/jdk8-downloads-2133151.html
Escolha a última versão do SDK 8 (atualmente em jdk-8u251-windows-x64.exe)

Mude o local de instalação para "C:\Java", no meu caso fica C:\Java\jdk1.8.0_251\
Altere também o local do JRE, para "C:\Java\jre1.8.0_251" (Navegue e crie a pasta), próximo...

[Variáveis de Ambiente](usuário e sistema) - DE ACORDO COM O NOME DA SUA PASTA!!!
JAVA_HOME
C:\Java\jdk1.8.0_251

PATH
%JAVA_HOME%\bin
C:\Java\jdk1.8.0_251\bin

Reinicie o PC

[Verificação]
java -version
Retorno:
java version "1.8.0_251"
Java(TM) SE Runtime Environment (build 1.8.0_251-b08)
Java HotSpot(TM) 64-Bit Server VM (build 25.251-b08, mixed mode)

[Verificação]
Executar, digite %JAVA_HOME%, abrirá a pasta no windows Explorer. Se abrir ele reconhece o caminho.
_________________________________________________________________________________
___Lista de exceções de sites____________________________________________________
Painel de Controle, Java, aba Segurança, Editar lista de sites, adicionar:
https://dl.google.com/dl/android/maven2/*
https://jcenter.bintray.com/*
https://jitpack.io*
https://maven.google.com/*

_________________________________________________________________________________
___03. PYTHON ___________________________________________________________________
Obs.: O Chocolatey provavelmente já instalou o Phyton. Faça apenas a verificação.

[Verificação]
python --version
Python 3.8.3

[Instalação]
https://www.python.org/downloads/windows/

[Variáveis de Ambiente](usuário e sistema)
[Path]
C:\Python38\
C:\Python38\Scripts
Sempre reinicie quando inserir variáveis de ambiente.

_________________________________________________________________________________
___04. GRADLE ___________________________________________________________________
https://gradle.org/releases/

Baixe a versão completa "gradle-5.4.1-all.zip" no endereço:
https://gradle.org/next-steps/?version=5.4.1&format=all

[Instalação]
Crie a pasta "C:\Gradle"
Extraia o arquivo zipado

[Variáveis de Ambiente](usuário e sistema)
[Path]
C:\Gradle\gradle-5.4.1\bin
Sempre reinicie quando inserir variáveis de ambiente.

[Verificação]
gradle -v
Gradle 5.4.1

Adicione as linhas no fim do arquivo %userprofile%\.gradle\gradle.properties (Se náo existir crie no Notepad++)
systemProp.https.proxyHost=PROXY.DOMINIO.COM.BR
systemProp.http.proxyHost=PROXY.DOMINIO.COM.BR
systemProp.https.proxyPort=PORTA
systemProp.http.proxyPort=PORTA
systemProp.https.proxyUser=USUARIO
systemProp.http.proxyUser=USUARIO
systemProp.https.proxyPassword=SENHA
systemProp.http.proxyPassword=SENHA
systemProp.https.nonProxyHosts=10.*
systemProp.http.nonProxyHosts=10.*

_________________________________________________________________________________
___05. Git_______________________________________________________________________
https://gitforwindows.org/
Baixe a última versão. Atualmente na 2.27.0

[Instalação]
Next, Next, Next, Next, Escolha o NotePad++ como editor padrão, Next, Next, Next, Next, Next, Install, Next.

[Reiniciar]

[Verificação]
No CMD:
git --version

Retorno:
git version 2.27.0.windows.1

[proxy] - verifica caminho do cacerts (de acordo com a pasta jre)
No CMD:
git config --global http.proxy http://"USUARIO":"SENHA"@PROXY.DOMINIO.COM.BR:PORTA
git config --global https.proxy http://"USUARIO":"SENHA"@PROXY.DOMINIO.COM.BR:PORTA
git config --global http.sslCAInfo "C:\Java\jre1.8.0_251\lib\security\cacerts"
git config --global http.sslVerify false

[Verificação]
git config --global --list

[Conferencia]
Confira no endereço %userprofile%\.gitconfig


_________________________________________________________________________________
___06. Maven_____________________________________________________________________
http://maven.apache.org/download.cgi
Baixe o Binary zip archive:
https://maven.apache.org/download.cgi?Preferred=ftp://ftp.osuosl.org/pub/apache/
http://ftp.unicamp.br/pub/apache/maven/maven-3/3.6.3/binaries/apache-maven-3.6.3-bin.zip

[Instalação]
Crie a pasta "C:\Apache", e insira a pasta já extraída.

[Variáveis de Ambiente](usuário e sistema)
Na variável de ambiente PATH (uauário e local), inclua:
C:\Apache\apache-maven-3.6.3\bin

Reinicie

[Verificação]
mvn -v

[Saída]
Apache Maven 3.6.3 (cecedd343002696d0abb50b32b541b8a6ba2883f)
Maven home: C:\Apache\apache-maven-3.6.3\bin\..
Java version: 1.8.0_251, vendor: Oracle Corporation, runtime: C:\Java\jdk1.8.0_251\jre
Default locale: pt_BR, platform encoding: Cp1252
OS name: "windows 10", version: "10.0", arch: "amd64", family: "windows"

_________________________________________________________________________________
___07. VSCode ___________________________________________________________________
https://code.visualstudio.com/download
Baixe o User Installer 64 bits

[Verificação]
code .

_________________________________________________________________________________
___08. Android Studio ___________________________________________________________
https://developer.android.com/studio/?hl=pt-br
Atualmente na versão android-studio-ide-193.6514223-windows.exe (871 MB)

[Instalação]
Next
	Selecione:
	Android Studio
	Android Virtual Device
Next, Local padrão "C:\Program Files\Android\Android Studio", 
Next, Install, Next, Selecione "Start Android Studio", Finish.

Ao abrir selecione "Do not import settings", OK, selecione "Don't send", Aceite os Certificados.

[Android Studio Setup Wizard]
Next, Custom, Next, 
C:\Program Files\Android\Android Studio\jre
Next, Dracula, Next, Selecione:
	Android SDK
	Android SDK Plataform (por padrão a API 30 também)
	Performance (Intel HAXM)
	Android Virtual Device
	Android SDK Location padrão
C:\Users\Menezes\AppData\Local\Android\Sdk
Next, 2.0 GB de RAM (observe a recomendação do programa)
Next, Finish

[Variáveis de Ambiente](usuário e sistema)
ANDROID_HOME
%userprofile%\AppData\Local\Android\Sdk

ANDROID_AVD_HOME
%userprofile%\.android\avd

ANDROID_SDK_HOME
%userprofile%\.android

ANDROID_SDK_ROOT
%userprofile%\AppData\Local\Android\Sdk

PATH
%ANDROID_HOME%\emulator
%ANDROID_HOME%\tools
%ANDROID_HOME%\tools\bin
%ANDROID_HOME%\platform-tools
Sempre reinicie quando inserir variáveis de ambiente.

Abra o Android Studio
Aceite todos os certificados

___Configuração no Android Studio 4.0___________________________________________
___Configure, SDK Manager
[Appearance & Behavior, System Settings, Android SDK, aba SDK Platforms]
Selecione Android 10.0+ (R)
Selecione Show Package Details
Selecine:
- Android SDK Platform 30
- Google APIs Intel x86 Atom System Image
- Google Play Intel x86 Atom System Image

[Aba SDK Tools]
Selecione Show Package Details
Selecione:
 Android SDK Build-Tools
  - 30.0.0
 NDK
  21.0.6113669
 CMake
  3.10.xxxxxxxxxxx
 Android Emulator
 Android SDK Platform-Tools
 Android SDK Tools (Não achei)
 Google Play APK Expansion library
 Google Play Instant Development SDK
 Google Play Licensing Library
 Google Play services
 Google USB Driver
 Google Web Driver
 Intel x86 Emulator Accelerator (HAXM installer)

[Appearance & Behavior, System Settings, HTTP Proxy]
Manual proxy configuration
 HTTP
  Host name: PROXY.DOMINIO.COM.BR
  Port number: PORTA
  No proxy for: 10.*
  Selecionar Proxy authentication
   Login: USUARIO
   Password: SENHA
   Seleciona Remember
 Aperte Check connection, google.com e veja se a mensagem foi de sucesso (Connection succesful)
  
 OK, OK, Accept (Abra onde estiver com asterisco vermelho, Accept), Next, Aguarde baixar os pacotes, Finish
 
[Configure, Settings, "Build, Execution, Deployment", "Remote Jar Repositories"]
Add em Maven Jar Repositories:
https://repo1.maven.org/maven2
https://repository.jboss.org/nexus/content/repositories/public/
https://dl.google.com/dll/https:/dl.google.com/dl/android/maven2
https://jitpack.io

Add em Artifactory, Nexus or Bintray Services URLs:
https://oss.sonatype.org/service/local/
https://repo.jfrog.org/artifactory/api/
https://repository.jboss.org/nexus/service/local/
https://jcenter.bintray.com

OK

_________________________________________________________________________________
___09. Primeiro projeto no Android Studio _______________________________________

Abrir o Android Studio como administrador
Start a new Android Studio project
Aba Phone and Tablet, Basic Activity, Next, 
Name: My Application
Package name: com.example.myapplication
Save location: C:\AndroidStudioProjects\MyApplication
Language: Java
Minimum API level: API 23 (Android 6.0 Marshmallow)
Finish

Neste momento ele baixará o gradle-5.4.1-all.zip e sincronizará o projeto.
Abrirá a janela do firewall, autorize todas as redes (Permitir acesso)
Deverá aparecer tudo verde na tela Sync

Rode o emulador disponível. Anote o tempo de abertura. Computadores lentos não abrirão.
Se não abrir logo de cara, vá nos aplicativos do emulador e abra "My Aplication".
Deligue o Emulador.
Feche o Android Studio.


_________________________________________________________________________________
___10. Licenças__________________________________________________________________
Abra o cmd como Adm
sdkmanager --licenses
Aceite todas (Y)

Verifique novamente.
Warning: File C:\Users\Menezes\.android\.android\repositories.cfg could not be loaded.
All SDK package licenses accepted.======] 100% Computing updates...


_________________________________________________________________________________
___11.Certificados_______________________________________________________________
Locais dos arquivos cacerts(observe as equivalências)
C:\Java\jre1.8.0_251\lib\security\cacerts

%userprofile%\.AndroidStudio4.0\system\tasks\cacerts
C:\Program Files\Android\Android Studio\jre\jre\lib\security\cacerts


Cria a pasta "C:\cacerts".

[Como gerar o arquivo]
Baixe o programa KeyStore Explorer em https://keystore-explorer.org/
Atual kse-543-setup.exe

Instale
Next, Selecione Install for anyone, Next, Selecione tudo, Next, 
C:\Program Files (x86)\KeyStore Explorer, Install, Sim, Finish

Abra o programa, Crie o arquivo C:\cacerts\cacerts pelo programa.
Create a New Kerystore, JKS, Menu File, Save As, selecione o caminho C:\cacerts e nomeie como cacerts. Coloque a senha padrão "changeit".


[Importar Certificados pelo CMD, como adm, ajuste seus caminhos]
Importar do seu arquivo cacerts para o da máquina
keytool -importkeystore -srckeystore "K:\00-desktop\cacerts" -destkeystore "C:\cacerts\cacerts" -v

Importar da máquina para o java e para o android
keytool -importkeystore -srckeystore "C:\cacerts\cacerts" -destkeystore "C:\Java\jre1.8.0_251\lib\security\cacerts" -v
keytool -importkeystore -srckeystore "C:\cacerts\cacerts" -destkeystore "%userprofile%\.AndroidStudio4.0\system\tasks\cacerts" -v
keytool -importkeystore -srckeystore "C:\cacerts\cacerts" -destkeystore "C:\Program Files\Android\Android Studio\jre\jre\lib\security\cacerts" -v

Quando solicitado, escreva a senha de origem e destinho (changeit)

[Instalação]
npm config set cafile "C:\Java\jre1.8.0_251\lib\security\cacerts"

[Verificação]
npm config get cafile
Retorno: C:\Java\jre1.8.0_251\lib\security\cacerts

__________________________________________________________________________________________
___12. CRIAÇÃO DO PROJETO_________________________________________________________________
TECLA DO WINDOWS, CMD (Abrir o cmd com privilégios de administrador)
cd %userprofile%
cd Desktop
mkdir curso-react-native
cd curso-react-native
react-native init exercicios

Se aparecer o erro:
'react-native' não é reconhecido como um comando interno
ou externo, um programa operável ou um arquivo em lotes.

[Instalação]
npm i -g react-native-cli --save

Para funcionar, rode o emulador e digite os comandos
cd %userprofile%\Desktop\curso-react-native\exercicios && npx react-native run-android

error Failed to install the app. Make sure you have the Android development environment set up: https://reactnative.dev/docs/environment-setup. Run CLI with --verbose flag for more details.
Error: Command failed: gradlew.bat app:installDebug -PreactNativeDevServerPort=8081
Exception in thread "main" javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target

Para contornar este erro abra a pasta exercicios no Android Studio, e ele baixará o que for necessário para o funcionamento. Este erro é por causa de certificado.

_________________________________________________________________________________
___EMULADOR______________________________________________________________________
[Instalação]
Android Studio, Configure, AVD Manager
Create Virtual Device
Selecione Nexus 5, Next
Aba x86 Images, 
Apertar Download em "Oreo - API 26 - x86 - Android 8.0 (Google APIs)"

Next, Finish

___adb___________________________________________________________________________

adb --version
Android Debug Bridge version 1.0.41
Version 30.0.3-6597393

_________________________________________________________________________________
___emulator______________________________________________________________________

emulator -version
Android emulator version 30.0.12.0 (build_id 6466327) (CL:N/A)

_________________________________________________________________________________
___React-Native__________________________________________________________________

react-native -v
react-native-cli: 2.0.1

Para instalar: "npm i -g react-native-cli --save"
[react-native init nomeDoProjeto]

_________________________________________________________________________________
___EMULATOR______________________________________________________________________
emulator -list-avds
adb devices

_________________________________________________________________________________
___Problemas no arquivo JAR (substituído pelo Maven______________________________
[Android Studio]
Open an existing Android Studio project
Menu Build, Make Build
Verificar qual arquivo não conseguiu baixar
Menu View, Tool Windows, Project
Selecionar visão por Project
Criar pasta "jar" dentro da pasta app (Botão Direito, New, Directory)
Colar o arquivo jar lá detro
Botão direito nele, Add as Library
Add to module app
Make Build
abra a pasta android no cmd
gradlew assembleDebug

Baixar manualmente o arquivo JAR com problemas
Colocar o arquivo com problema nas pastas:

```
